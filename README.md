# quiz
Сервис получения вопросов для викторин
## Функционал
Система получает от сервиса https://jservice.io/api/ заданное количество вопросов для викторин и сохраняет их в базу данных.
Для получения вопросов нужно отправить POST-запрос вида {"questions_num": integer}, содержащий необходимое количество вопросов.
В базу заносятся только уникальные вопросы (по id). Вместо вопроса, уже присутствующего в базе, запрашивается новый. Если за некоторое количество попыток не удалось набрать нужное количество вопросов, то в базу ничего не заносится и выдаётся ответ "Not found."
## Используемые технологии
UBUNTU, PostgreSQL, PYTHON, FastAPI, Docker
## Развёртывание системы
1. Склонировать репозиторий:
```
$ git clone git@github.com:Katsmannn/quiz.git
```
2. Зайти в каталог проекта
```
$ cd quiz/
```
3. Создать файл с параметрами:
```
$ nano .env
```
Файл должен содержать параметры:
```
DB_NAME = # имя базы данных
DB_HOST = # хост базы данных
DB_USER = # пользователь PostgreSQL
DB_PASSWORD = # пароль PostgreSQL

```
4. Собрать и запустить Docker контейнеры с бд и приложением:
```
$ sudo docker-compose build
$ sudo docker-compose run
```

Доступные эндпоинты:  
-- получение вопросов - POST-запрос вида {"questions_num": integer}
```
127.0.0.1:8000/get_questions/
```
-- получение количества вопросов в базе - GET-апрос
```
127.0.0.1:8000/question_count/
```

![](https://img.shields.io/github/languages/count/katsmannn/quiz)